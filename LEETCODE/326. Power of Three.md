** check if a number is a power of 3, with **code and time complexities**.


## **1. Iterative Division Approach**

**Logic:** Keep dividing by 3 while divisible.
**Time Complexity:** **O(log₃ n)** — each division reduces the number by a factor of 3.
**Space Complexity:** **O(1)**

```java
class Solution {
    public boolean isPowerOfThree(int n) {
        if (n <= 0) return false;
        while (n % 3 == 0) {
            n /= 3;
        }
        return n == 1;
    }
}
```

---

## **2. Recursive Approach**

**Logic:** Recursively divide until reaching 1 (base case) or failing divisibility.
**Time Complexity:** **O(log₃ n)**
**Space Complexity:** **O(log₃ n)** (stack space due to recursion)

```java
class Solution {
    public boolean isPowerOfThree(int n) {
        if (n == 1) return true;
        if (n <= 0 || n % 3 != 0) return false;
        return isPowerOfThree(n / 3);
    }
}
```

---

## **3. Logarithmic Approach**

**Logic:** Use logarithms — if `log₃(n)` is an integer, then `n` is a power of 3.
**Time Complexity:** **O(1)**
**Space Complexity:** **O(1)**
⚠️ **Warning:** Floating-point precision errors may occur for large numbers.

```java
class Solution {
    public boolean isPowerOfThree(int n) {
        if (n <= 0) return false;
        double logVal = Math.log10(n) / Math.log10(3);
        return logVal == (int) logVal;
    }
}
```

---

## **4. Maximum Power of 3 Trick (Without Loops or Recursion)**

**Logic:** The largest power of 3 that fits in a signed 32-bit integer is **3¹⁹ = 1162261467**.
If `n` divides this number evenly, then it’s a power of 3.
**Time Complexity:** **O(1)**
**Space Complexity:** **O(1)**

```java
class Solution {
    public boolean isPowerOfThree(int n) {
        return n > 0 && 1162261467 % n == 0;
    }
}
```

---

## **5. Precomputed HashSet Approach**

**Logic:** Store all powers of 3 in a set and check membership.
**Time Complexity:** **O(1)** lookup
**Space Complexity:** **O(1)** (constant set size for 32-bit integers)

```java
import java.util.Set;
import java.util.HashSet;

class Solution {
    private static final Set<Integer> powersOfThree = new HashSet<>();
    static {
        long val = 1;
        while (val <= Integer.MAX_VALUE) {
            powersOfThree.add((int) val);
            val *= 3;
        }
    }

    public boolean isPowerOfThree(int n) {
        return powersOfThree.contains(n);
    }
}
```
